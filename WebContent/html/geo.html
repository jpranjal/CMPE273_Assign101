<!DOCTYPE html>
<html>
<head>
<script
src="http://maps.googleapis.com/maps/api/js">
</script>
</head>
<body>

<p>Click the button see your geo location</p>

<button onclick="getLocation()">Click Me</button>

<p id="demo"></p>

<div id="googleMap" style="width:500px;height:380px;"></div>

<script>
var x = document.getElementById("demo");

function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else { 
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}

function showPosition(position) {
    initialize(position.coords.latitude,position.coords.longitude);
}


function initialize(long, lat) {
  var mapProp = {
    center:new google.maps.LatLng(long,lat),
    zoom:18,
    mapTypeId:google.maps.MapTypeId.ROADMAP
  };
  var map=new google.maps.Map(document.getElementById("googleMap"), mapProp);
}
google.maps.event.addDomListener(window, 'load', initialize);
</script>

</body>
</html>
